#!/bin/bash

# מערכים המייצגים את הספרות מ-0 עד 9, והאיבר ה-11 (אינדקס 10) מייצג נקודתיים (:)
L1=(" ### " "  #  " " ### " " ### " "#   #" " ### " " ### " " ### " " ### " " ### " "   ")
L2=("#   #" " ##  " "    #" "    #" "#   #" "#    " "#    " "    #" "#   #" "#   #" " # ")
L3=("#   #" "  #  " " ### " " ### " " ### " " ### " " ### " "   # " " ### " " ### " "   ")
L4=("#   #" "  #  " "#    " "    #" "    #" "    #" "#   #" "  #  " "#   #" "    #" " # ")
L5=(" ### " " ### " " ### " " ### " "    #" " ### " " ### " " #   " " ### " " ### " "   ")

# לולאה אינסופית שמציירת את השעון
while true; do
    clear
    # שליפת השעה הנוכחית
    current_time=$(date +"%H:%M:%S")
    
    # הדפסת 5 השורות שמרכיבות את תצוגת ה-ASCII
    for line in {0..4}; do
        row_output=""
        
        # מעבר על כל תו (ספרה או נקודתיים) במחרוזת השעה
        for (( i=0; i<${#current_time}; i++ )); do
            char="${current_time:$i:1}"
            
            # אם התו הוא נקודתיים, נשתמש באינדקס 10 של המערך
            if [[ "$char" == ":" ]]; then
                idx=10
            else
                idx=$char
            fi
            
            # בניית השורה הנוכחית של השעון
            if [ $line -eq 0 ]; then row_output+="${L1[$idx]}  "; fi
            if [ $line -eq 1 ]; then row_output+="${L2[$idx]}  "; fi
            if [ $line -eq 2 ]; then row_output+="${L3[$idx]}  "; fi
            if [ $line -eq 3 ]; then row_output+="${L4[$idx]}  "; fi
            if [ $line -eq 4 ]; then row_output+="${L5[$idx]}  "; fi
        done
        
        # הדפסת השורה המוכנה למסך
        echo "$row_output"
    done
    
    # המתנה של שנייה לפני הרענון הבא
    sleep 1
done